{% extends 'back/base_main.html' %}

{% block title %}
    更新栏目 - 大锤博客
{% endblock %}


{% block link %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='back/css/font-awesome.min.css') }}">
{% endblock %}

{% block diff_div %}
    <div class="row">
        <aside class="col-sm-3 col-md-2 col-lg-2 sidebar">
            <ul class="nav nav-sidebar">
                <li><a href="/back/index">报告</a></li>
            </ul>
            <ul class="nav nav-sidebar">
                <li><a href="/back/article">文章</a></li>
            </ul>
            <ul class="nav nav-sidebar">
                <li class="active"><a href="/back/category">栏目</a></li>
            </ul>
        </aside>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-lg-10 col-md-offset-2 main" id="main">
            <h1 class="page-header">修改栏目</h1>
            <form action="" method="post">
                <div class="form-group">
                    <label for="category-name">栏目名称</label>
                    <input type="text" id="category-name" name="name" value="{{ db_category.category_name }}" class="form-control"
                           placeholder="在此处输入栏目名称" required autocomplete="off">
                    {% if error %}
                    <span class="prompt-text" style="color: red;font-size: 15px">{{ error }}</span>
                    {% else %}
                    <span class="prompt-text">这将是它在站点上显示的名字。</span>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="category-alias">栏目别名</label>
                    <input type="text" id="category-alias" name="alias" value="{{ db_category.category_alias }}" class="form-control"
                           placeholder="在此处输入栏目别名" required autocomplete="off">
                    <span class="prompt-text">“别名”是在URL中使用的别称，它可以令URL更美观。通常使用小写，只能包含字母，数字和连字符（-）。</span>
                </div>
                <div class="form-group">
                    <label for="category-fname">父节点</label>
                    <select id="category-fname" class="form-control" name="fid">
                        <option value="0">无</option>
                        {% for category in category_list %}
                        <option value="{{ category.category_id }}" {%if category.category_id == db_category.category_fid %} selected {%endif%}>{{ category.category_name }}</option>
                        {% endfor %}
                    </select>
                    <span class="prompt-text">栏目是有层级关系的，您可以有一个“音乐”分类目录，在这个目录下可以有叫做“流行”和“古典”的子目录。</span></div>
                <div class="form-group">
                    <label for="category-keywords">关键字</label>
                    <input type="text" id="category-keywords" name="keywords" value="{{ db_category.category_keywords }}"
                           class="form-control" placeholder="在此处输入栏目关键字" autocomplete="off">
                    <span class="prompt-text">关键字会出现在网页的keywords属性中。</span></div>
                <div class="form-group">
                    <label for="category-describe">描述</label>
                    <textarea class="form-control" id="category-describe" name="describe" rows="4" autocomplete="off">{{ db_category.category_description }}</textarea>
                    <span class="prompt-text">描述会出现在网页的description属性中。</span></div>
                <button class="btn btn-primary" type="submit" name="submit">更新</button>
            </form>
        </div>
    </div>
{% endblock %}

{% block login_section %}
{% endblock %}

{% block js %}
<script src="{{ url_for('static', filename='back/js/bootstrap.min.js') }}"></script>
<script src="{{ url_for('static', filename='back/js/admin-scripts.js') }}"></script>
<script>
    // $(function () {
    //     $.get('',function (data) {
    //         console.log($(data).find())
    //     })
    // })
</script>
{% endblock %}


